
We can manually use our `ansible` user's SSH key to login automatically

Or we can use `sshpass` to automatically do this process on all machines

- Install `sshpass`
```bash
sudo apt update
sudo apt install sshpass
```
- Save the password in a file
```bash
echo password > passwords.txt
```
- Now use a bash script to copy the ssh key to each machine
```bash
for user in ansible root
do
	for os in ubuntu centos
	do
		for instance in 1 2 3
		do
			sshpass -f password.txt ssh-copy-id -o StrictHostKeyChecking=no ${user}@${os}${instance}
		done
	done
done
```
- Now remove the password.txt file
```bash
rm password.txt
```
- Now test, with ansible, connectivity to each machine
```bash
ansible -i,ubuntu1,ubuntu2,ubuntu3,centos1,centos2,centos3 all -m ping
```