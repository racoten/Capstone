
Playbooks use YAML to define the structure of how it will behave.

Each playbook, apart from the already defined initial structure for YAML files for ansible, begins with a `-` symbol before the playbook and after the 3 `-` symbols at the start of the YAML file.
```yaml
---

# begin playbook, this will indicate a list of items for the plays which will be in dictionaries
-

...
```

# Directives

- `Hosts` - where our play will run and options it will run with
- `Vars` - variables that will apply to the play, on all target systems
- `Tasks` - the list of tasks that will be executed within the play, this section can also be used for pre and post tasks
- `Handlers` - the list of handlers that are executed as a notify key from a task
- `Roles` - list of roles to be imported into the play

# Change MOTD for a Host

We can define a playbook which will take a file name `centos_motd` and copy it to the remote host `/etc/motd` to change the Message of the Day:
```yaml
---

# begin playbook, this will indicate a list of items for the plays which will be in dictionaries
-
	hosts: centos
	user: root # we can overwrite the user applied
	tasks:
		- name: Configure a MOTD
		  copy:
			  src: centos_motd
			  dest: /etc/motd
...
```

We can execute this playbook like so:
```bash
ansible-playbook motd_playbook.yaml
```

![[Pasted image 20230810004527.png]]

You see that 2 tasks are executed because the first one, by default, is that one that gathers facts about the hosts. And the second one is the actual playbook task defined

You can ommit the first step with:
```yaml
gather_facts: False
```

Before specifying the tasks.
![[Pasted image 20230810005952.png]]
![[Pasted image 20230810005926.png]]

