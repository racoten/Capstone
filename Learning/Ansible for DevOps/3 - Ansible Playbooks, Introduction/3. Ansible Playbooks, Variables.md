### Getting Value from a Dictionary Key

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/01
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: False
 
  # Vars: variables that will apply to the play, on all target systems
  vars:
    example_key: example value
 
  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test dictionary key value
      debug:
        msg: "{{ example_key }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos1] *******************************************************************************************************************************************************************************************************************************************************

TASK [Test dictionary key value] *************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "example value"
}

PLAY RECAP ***********************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0  
```

### Getting Specific Value by Accessing the Key

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/02
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: False
 
  # Vars: variables that will apply to the play, on all target systems
  vars:
    dict:
      dict_key: This is a dictionary value
 
  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test named dictionary dictionary
      debug:
        msg: "{{ dict }}"
 
    - name: Test named dictionary dictionary key value with dictionary dot notation
      debug:
        msg: "{{ dict.dict_key }}"
 
    - name: Test named dictionary dictionary key value with python brackets notation
      debug:
        msg: "{{ dict['dict_key'] }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml
[WARNING]: Found variable using reserved name: dict

PLAY [centos1] *******************************************************************************************************************************************************************************************************************************************************

TASK [Test named dictionary dictionary] ******************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": {
        "dict_key": "This is a dictionary value"
    }
}

TASK [Test named dictionary dictionary key value with dictionary dot notation] ***************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "This is a dictionary value"
}

TASK [Test named dictionary dictionary key value with python brackets notation] **************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "This is a dictionary value"
}

PLAY RECAP ***********************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0 
```


### Inline Dictionary

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/03
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: False
 
  # Vars: variables that will apply to the play, on all target systems
  vars:
    inline_dict:
      {inline_dict_key: This is an inline dictionary value}
 
  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test named inline dictionary dictionary
      debug:
        msg: "{{ inline_dict }}"
 
    - name: Test named inline dictionary dictionary key value with dictionary dot notation
      debug:
        msg: "{{ inline_dict.inline_dict_key }}"
 
    - name: Test named inline dictionary dictionary key value with brackets notation
      debug:
        msg: "{{ inline_dict['inline_dict_key'] }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos1] ***************************************************************************************************************************************************************************************************************************************************************

TASK [Test named inline dictionary dictionary] *******************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": {
        "inline_dict_key": "This is an inline dictionary value"
    }
}

TASK [Test named inline dictionary dictionary key value with dictionary dot notation] ****************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "This is an inline dictionary value"
}

TASK [Test named inline dictionary dictionary key value with brackets notation] **********************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "This is an inline dictionary value"
}

PLAY RECAP *******************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0 
```

### Lists

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/04
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: False
 
  # Vars: variables that will apply to the play, on all target systems
  vars:
    named_list:
      - item1
      - item2
      - item3
      - item4
 
  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test named list
      debug:
        msg: "{{ named_list }}"
 
    - name: Test named list first item dot notation
      debug:
        msg: "{{ named_list.0 }}"
 
    - name: Test named list first item brackets notation
      debug:
        msg: "{{ named_list[0] }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos1] ***************************************************************************************************************************************************************************************************************************************************************

TASK [Test named list] *******************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": [
        "item1",
        "item2",
        "item3",
        "item4"
    ]
}

TASK [Test named list first item dot notation] *******************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "item1"
}

TASK [Test named list first item brackets notation] **************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "item1"
}
```

### List within a Dictionary

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/05
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: False
 
  # Vars: variables that will apply to the play, on all target systems
  vars:
    inline_named_list:
      [ item1, item2, item3, item4 ]
 
  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test inline named list
      debug:
        msg: "{{ inline_named_list }}"
 
    - name: Test inline named list first item dot notation
      debug:
        msg: "{{ inline_named_list.0 }}"
 
    - name: Test inline named list first item brackets notation
      debug:
        msg: "{{ inline_named_list[0] }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos1] ***************************************************************************************************************************************************************************************************************************************************************

TASK [Test inline named list] ************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": [
        "item1",
        "item2",
        "item3",
        "item4"
    ]
}

TASK [Test inline named list first item dot notation] ************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "item1"
}

TASK [Test inline named list first item brackets notation] *******************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "item1"
}

PLAY RECAP *******************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```

### Calling External Variables

```yaml
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: False
 
  # Vars: variables that will apply to the play, on all target systems
  vars_files:
    - external_vars.yaml
 
  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test external dictionary key value
      debug:
        msg: "{{ external_example_key }}"

    - name: Test external named dictionary dictionary
      debug:
        msg: "{{ external_dict }}"

    - name: Test external named dictionary dictionary key value with dictionary dot notation
      debug:
        msg: "{{ external_dict.dict_key }}"

    - name: Test external named dictionary dictionary key value with brackets notation
      debug:
        msg: "{{ external_dict['dict_key'] }}"
 
    - name: Test external named inline dictionary dictionary
      debug:
        msg: "{{ external_inline_dict }}"
 
    - name: Test external named inline dictionary dictionary key value with dictionary dot notation
      debug:
        msg: "{{ external_inline_dict.inline_dict_key }}"
 
    - name: Test external named inline dictionary dictionary key value with brackets notation
      debug:
        msg: "{{ external_inline_dict['inline_dict_key'] }}"
 
    - name: Test external named list
      debug:
        msg: "{{ external_named_list }}"
 
    - name: Test external named list first item dot notation
      debug:
        msg: "{{ external_named_list.0 }}"
 
    - name: Test external named list first item brackets notation
      debug:
        msg: "{{ external_named_list[0] }}"
 
    - name: Test external inline named list
      debug:
        msg: "{{ external_inline_named_list }}"
 
    - name: Test external inline named list first item dot notation
      debug:
        msg: "{{ external_inline_named_list.0 }}"
 
    - name: Test external inline named list first item brackets notation
      debug:
        msg: "{{ external_inline_named_list[0] }}"

 
# Three dots indicate the end of a YAML document
...
```

external_vars.yaml
```yaml
---
external_example_key: example value

external_dict:
   dict_key: This is a dictionary value

external_inline_dict: 
   {inline_dict_key: This is an inline dictionary value}

external_named_list:
   - item1
   - item2
   - item3
   - item4

external_inline_named_list:
   [ item1, item2, item3, item4 ]
...
```


### User Input for Vars

```yaml
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: False
 
  # Vars: variables that will apply to the play, on all target systems
  vars_prompt:
    - name: username
      private: False
 
  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test vars_prompt
      debug:
        msg: "{{ username }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml
username: ansible

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Test vars_prompt] ***************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "ansible"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0 




#########################################################################################################################################################


/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/08
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: False
 
  # Vars: variables that will apply to the play, on all target systems
  vars_prompt:
    - name: password
      private: True
 
  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test vars_prompt
      debug:
        msg: "{{ password }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml
password: 

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Test vars_prompt] ***************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "password"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0 
```

### Using Ansible-defined Vars (Facts)

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/09
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: True
 
  # Vars: variables that will apply to the play, on all target systems

  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test hostvars with an ansible fact and collect ansible_port, dot notation
      debug:
        msg: "{{ hostvars[ansible_hostname].ansible_port }}"

    - name: Test hostvars with an ansible fact and collect ansible_port, dict notation
      debug:
        msg: "{{ hostvars[ansible_hostname]['ansible_port'] }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1]

TASK [Test hostvars with an ansible fact and collect ansible_port, dot notation] ******************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "2222"
}

TASK [Test hostvars with an ansible fact and collect ansible_port, dict notation] *****************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "2222"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/10
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos
  gather_facts: True
 
  # Vars: variables that will apply to the play, on all target systems

  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test hostvars with an ansible fact and collect ansible_port, dot notation
      debug:
        msg: "{{ hostvars[ansible_hostname].ansible_port }}"

    - name: Test hostvars with an ansible fact and collect ansible_port, dict notation
      debug:
        msg: "{{ hostvars[ansible_hostname]['ansible_port'] }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos] *************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1]
ok: [centos3]
ok: [centos2]

TASK [Test hostvars with an ansible fact and collect ansible_port, dot notation] ******************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "2222"
}
fatal: [centos2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'ansible_port'. 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'ansible_port'\n\nThe error appears to be in '/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/10/variables_playbook.yaml': line 16, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Test hostvars with an ansible fact and collect ansible_port, dot notation\n      ^ here\n"}
fatal: [centos3]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'ansible_port'. 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'ansible_port'\n\nThe error appears to be in '/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/10/variables_playbook.yaml': line 16, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Test hostvars with an ansible fact and collect ansible_port, dot notation\n      ^ here\n"}

TASK [Test hostvars with an ansible fact and collect ansible_port, dict notation] *****************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "2222"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
centos2                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
centos3                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0
```

### Checking Hostvars with Ansible Facts

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/11
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos
  gather_facts: True
 
  # Vars: variables that will apply to the play, on all target systems

  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test hostvars with an ansible fact and collect ansible_port, dot notation, default if not found
      debug:
        msg: "{{ hostvars[ansible_hostname].ansible_port | default('22') }}"

    - name: Test hostvars with an ansible fact and collect ansible_port, dict notation, default if not found
      debug:
        msg: "{{ hostvars[ansible_hostname]['ansible_port'] | default('22') }}"
 
# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos] *************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos2]
ok: [centos3]
ok: [centos1]

TASK [Test hostvars with an ansible fact and collect ansible_port, dot notation, default if not found] ********************************************************************************************************************************************************************************************************************
ok: [centos3] => {
    "msg": "22"
}
ok: [centos2] => {
    "msg": "22"
}
ok: [centos1] => {
    "msg": "2222"
}

TASK [Test hostvars with an ansible fact and collect ansible_port, dict notation, default if not found] *******************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "2222"
}
ok: [centos2] => {
    "msg": "22"
}
ok: [centos3] => {
    "msg": "22"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
centos2                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
centos3                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```

### Groupvars

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/12
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos
  gather_facts: True
 
  # Vars: variables that will apply to the play, on all target systems

  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test groupvars
      debug:
        msg: "{{ ansible_user }}"

# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos] *************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos3]
ok: [centos2]
ok: [centos1]

TASK [Test groupvars] *****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "root"
}
ok: [centos2] => {
    "msg": "root"
}
ok: [centos3] => {
    "msg": "root"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
centos2                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
centos3                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/13
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: ubuntu
  gather_facts: True
 
  # Vars: variables that will apply to the play, on all target systems

  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test groupvars
      debug:
        msg: "{{ ansible_user }}"

# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [ubuntu] *************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [ubuntu3]
ok: [ubuntu2]
ok: [ubuntu1]

TASK [Test groupvars] *****************************************************************************************************************************************************************************************************************************************************************************************************
fatal: [ubuntu1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible_user' is undefined. 'ansible_user' is undefined\n\nThe error appears to be in '/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/13/variables_playbook.yaml': line 16, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Test groupvars\n      ^ here\n"}
fatal: [ubuntu2]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible_user' is undefined. 'ansible_user' is undefined\n\nThe error appears to be in '/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/13/variables_playbook.yaml': line 16, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Test groupvars\n      ^ here\n"}
fatal: [ubuntu3]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'ansible_user' is undefined. 'ansible_user' is undefined\n\nThe error appears to be in '/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/13/variables_playbook.yaml': line 16, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  tasks:\n    - name: Test groupvars\n      ^ here\n"}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
ubuntu1                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ubuntu2                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ubuntu3                    : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0 
```
### Check Groupvars with Ansible Facts

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/14
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: True
 
  # Vars: variables that will apply to the play, on all target systems

  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test groupvars with an ansible fact, show that the variable is also accessible from the hostvars section
      debug:
        msg: "{{ hostvars[ansible_hostname].ansible_user }}"

# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1]

TASK [Test groupvars with an ansible fact, show that the variable is also accessible from the hostvars section] ***********************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "root"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0 
```



### Check hostvars with an Ansible Fact and collect One with dot notation

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/15
---
# YAML documents begin with the document separator ---
 
# The minus in YAML this indicates a list item.  The playbook contains a list
# of plays, with each play being a dictionary
-
 
  # Hosts: where our play will run and options it will run with
  hosts: centos1
  gather_facts: True
 
  # Vars: variables that will apply to the play, on all target systems

  # Tasks: the list of tasks that will be executed within the playbook
  tasks:
    - name: Test hostvars with an ansible fact and collect ansible_port, dot notation
      debug:
        msg: "{{ hostvars[ansible_hostname].ansible_port }}"

    - name: Test groupvars
      debug:
        msg: "{{ ansible_user }}"

# Three dots indicate the end of a YAML document
...

ansible-playbook variables_playbook.yaml

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1]

TASK [Test hostvars with an ansible fact and collect ansible_port, dot notation] ******************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "2222"
}

TASK [Test groupvars] *****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "root"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```

### Vars in Ini format

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/16

using extra vars in ini format


ansible-playbook variables_playbook.yaml -e extra_vars_key="extra vars value"

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1]

TASK [Test extra vars] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "extra vars value"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0 
```


### Vars in JSON Format

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/16

using extra vars in json format


ansible-playbook variables_playbook.yaml -e {"extra_vars_key": "extra vars value"}

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1]

TASK [Test extra vars] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "extra vars value"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```
### Vars in YAML Format

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/16

using extra vars in yaml format


ansible-playbook variables_playbook.yaml -e {extra_vars_key: extra vars value}

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1]

TASK [Test extra vars] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "extra vars value"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```


### Passing Variables as a YAML File

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/17

passing variables as a yaml file


ansible-playbook variables_playbook.yaml -e @extra_vars_file.yaml

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1]

TASK [Test extra vars] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "extra vars value"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0 
```
### Using Extra Vars as a JSON File

```yaml
/home/ansible/diveintoansible/Ansible Playbooks, Introduction/Ansible Playbooks, Variables/17

using extra vars as a json file


ansible-playbook variables_playbook.yaml -e @extra_vars_file.json

PLAY [centos1] ************************************************************************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1]

TASK [Test extra vars] ****************************************************************************************************************************************************************************************************************************************************************************************************
ok: [centos1] => {
    "msg": "extra vars value"
}

PLAY RECAP ****************************************************************************************************************************************************************************************************************************************************************************************************************
centos1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0 
```

