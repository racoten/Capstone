# 21. Unit Tests

Unit testing is an invaluable skill when it comes to software development.  It allows easy testing of your module code whenever changes are mode, to ensure functionality is not broken.

To demonstrate testing, create a new Rust project but select the **Library** template.

![](https://files.cdn.thinkific.com/file_uploads/584845/images/337/788/d93/project.png)

This will create `lib.rs` inside your `src` directory that already contains a boilerplate function and unit test module.

```rust
pub fn add(left: usize, right: usize) -> usize {  
    left + right  
}  
  
#[cfg(test)]  
mod tests {  
    use super::*;  
  
    #[test]  
    fn it_works() {  
        let result = add(2, 2);  
        assert_eq!(result, 4);  
    }  
}
```

The content of the test is straight forward to understand - it passes the values 2 and 2 to the `add` function and stores the result in a variable called `result`.  The `assert_eq!` macro is then used to compare the result against an expected value, 4.

The test passes if the values match, otherwise it will fail.

![](https://files.cdn.thinkific.com/file_uploads/584845/images/b07/5f6/db3/cargo-test.png)

Unit testing can be integrated into CI/CD pipelines for full automation of test, build, deploy.  You can find more information about that in our [DevOps for Pentesters](https://training.zeropointsecurity.co.uk/courses/devops-for-pentesters) course.