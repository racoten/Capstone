# 10. User Input

In addition to reading command line arguments when the program first runs, you may want to prompt the user for additional input whilst the program is running.  This can be done by reading from the application's standard input (stdin), using the `std::io` standard library.

We can start off by creating a loop and printing a pseudo-CLI prompt to the console.

```rust
use std::io;  
use std::io::Write;  
  
fn main() {  
    loop {  
        print!("> ");  
        let _ = io::stdout().flush();  
    }  
}
```

You'll notice I'm using the `print!` macro rather than `println!`.  This will allow the user to type text on the same line the `>` appears on, rather than having an additional newline.  The standard output (stdout) stream is line-buffered, which means text isn't usually flushed to the console until a newline appears.  Since we want the > character to appear without printing a new line, we have to manually flush stdout so that it appears.

Next, we need to create a mutable String and call `stdin().read_line()`, providing a pointer to that String buffer.

```rust
use std::io;  
use std::io::Write;  
  
fn main() {  
    loop {  
        print!("> ");  
        
        let _ = io::stdout().flush();  
        let mut input = String::new();  
        let _ = io::stdin().read_line(&mut input);  
    }  
}
```

`read_line()` returns a Result which you can use to catch any errors.  After the input has been read, we can just print it to the console and the loop will start again.

```rust
use std::io;  
use std::io::Write;  
  
fn main() {  
    loop {  
        print!("> ");  
  
        let _ = io::stdout().flush();  
        let mut input = String::new();  
        let _ = io::stdin().read_line(&mut input);  
  
        println!("You said: {} ", input);  
    }  
}
```

![](https://files.cdn.thinkific.com/file_uploads/584845/images/42b/326/93c/you-said-output.png)

String comparisons can be used to take action on certain input.  For example, typing "exit" to break out of the loop and close the program.  It's important to remember that the input String will contain a newline at the end from when the Enter key is pressed, so this should be removed with `trim_end()` before an "equals" comparison will match.

```rust
use std::io;  
use std::io::Write;  
  
fn main() {  
    loop {  
        print!("> ");  
  
        let _ = io::stdout().flush();  
        let mut input = String::new();  
        let _ = io::stdin().read_line(&mut input);  
  
        if input.trim_end().eq_ignore_ascii_case("exit") {  
            break;  
        }  
  
        println!("You said: {} ", input);  
    }  
}
```

I've also elected to use `eq_ignore_ascii_case()` here so that it will match on "EXIT", "eXiT" or any case variation. Using `eq()` requires that the case match exactly, so always use the one that has the behaviours you want for your application.