A GitLab Runner is something that performs work within a CI/CD pipeline.  For each step, a "job" is created which gets pushed out to a Runner to perform.  A Runner is effectively an agent that can run on the same VM, although preferably on separate VMs.  You can hook up multiple runners to a GitLab instance, so that you can scale the number of Runners according to the volume of jobs your pipelines are generating.

To install a runner on Ubuntu:
```bash
rasta@gitlab:~$ curl -LJO "https://gitlab-runner-downloads.s3.amazonaws.com/latest/deb/gitlab-runner_amd64.deb"
rasta@gitlab:~$ sudo apt install git
rasta@gitlab:~$ sudo dpkg -i gitlab-runner_amd64.deb
```

The Runner will fetch the code from GitLab via `git`, hence the dependency.

The Runner runs as a service, which you can see with
```bash
rasta@gitlab:~$ sudo systemctl status gitlab-runner
```

The next step is to register the Runner with the GitLab instance.
```bash
rasta@gitlab:~$ sudo gitlab-runner register
```

You'll be prompted for the GitLab URL (`http://172.23.157.233` in my case) and a registration token.  To get the token, navigate to **Admin > Runners** whilst logged in as the default root user, and click on **Register an Instance Runner**.  You will see a redacted field from which you can copy the token.

When prompted for an **executor**, select `docker`.  This allows the Runner to execute its jobs in a dedicated container.  You'll also be asked to provide a default Docker image.  Each CI/CD pipeline can be configured with a specific Docker image, but this setting is used by default (in cases where an image is not explicitly defined in a pipeline).

As such, it doesn't really matter what you put here.  I chose `mcr.microsoft.com/dotnet/sdk:6.0`.

Complete the setup and a new Runner should appear in the Admin UI.

![](https://files.cdn.thinkific.com/file_uploads/584845/images/69f/b70/ac5/runners.png)

We do need to make a small change to the configuration file at `/etc/gitlab-runner/config.toml` for something that we're going to do later.  Scroll down and find the `[runners.docker]` section at the bottom of the file, then change `privileged` from `false` to `true`.  Save the file and restart the service.

We now also need to install Docker for the runner to function.
```bash
rasta@gitlab:~$ sudo apt install ca-certificates curl gnupg lsb-release
rasta@gitlab:~$ sudo mkdir -p /etc/apt/keyrings
rasta@gitlab:~$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
rasta@gitlab:~$ echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
rasta@gitlab:~$ sudo apt update
rasta@gitlab:~$ sudo apt -y install docker-ce docker-ce-cli containerd.io docker-compose-plugin
```