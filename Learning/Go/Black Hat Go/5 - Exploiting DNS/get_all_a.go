package main

import (
	"fmt"

	"github.com/miekg/dns"
)

func main() {
	// creating a new Msg
	var msg dns.Msg

	// transform the domain into a FQDN that can be exchanged with a DNS server
	fqdn := dns.Fqdn("stacktitan.com")

	// modify the internal state of the Msg  with a call to SetQuestion(string, uint16) by using the TypeA value to denote your intent to look up an A record
	msg.SetQuestion(fqdn, dns.TypeA)

	// send the message to the provided server address, which is a DNS server operated by Google in this case
	in, err := dns.Exchange(&msg, "8.8.8.8:53")

	if err != nil {
		panic(err)
	}

	if len(in.Answer) < 1 {
		fmt.Println("No records")
		return
	}
	for _, answer := range in.Answer {
		if a, ok := answer.(*dns.A); ok {
			fmt.Println(a.A)
		}
	}
}
